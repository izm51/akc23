(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{136:function(t,e,n){var content=n(155);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("9ca92dc0",content,!0,{sourceMap:!1})},137:function(t,e,n){var content=n(157);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("dae5561a",content,!0,{sourceMap:!1})},138:function(t,e,n){var content=n(162);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("ac598314",content,!0,{sourceMap:!1})},139:function(t,e,n){var content=n(172);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("56e9ded1",content,!0,{sourceMap:!1})},140:function(t,e,n){var content=n(174);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("ddfebe1a",content,!0,{sourceMap:!1})},141:function(t,e,n){var content=n(178);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("3592ce86",content,!0,{sourceMap:!1})},144:function(t,e,n){var content=n(191);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("570206be",content,!0,{sourceMap:!1})},147:function(t,e,n){t.exports=n.p+"img/0f48c61.png"},154:function(t,e,n){"use strict";var r=n(136);n.n(r).a},155:function(t,e,n){(t.exports=n(39)(!1)).push([t.i,"div.elem-container[data-v-f7a50e32]{position:absolute;left:0;top:0}.debug[data-v-f7a50e32]{border:1px dotted red}.debug .debug-origin[data-v-f7a50e32]{position:absolute;width:3px;height:3px;left:0;top:0;background-color:red}.debug .debug-name[data-v-f7a50e32]{position:absolute;top:-10pt;left:0;font-size:8pt;color:red}",""])},156:function(t,e,n){"use strict";var r=n(137);n.n(r).a},157:function(t,e,n){(t.exports=n(39)(!1)).push([t.i,".maru{width:40px;height:40px;background:#000;position:absolute;top:50%}",""])},158:function(t,e,n){t.exports=n.p+"img/b4e36a4.gif"},159:function(t,e,n){t.exports=n.p+"img/fc2d148.gif"},160:function(t,e,n){t.exports=n.p+"img/9996e14.gif"},161:function(t,e,n){"use strict";var r=n(138);n.n(r).a},162:function(t,e,n){(t.exports=n(39)(!1)).push([t.i,".partner{width:40px;height:40px;position:absolute;top:50%}.partner .chara{position:absolute;bottom:-20px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);height:120px}",""])},163:function(t,e,n){t.exports=n.p+"img/886e8e9.png"},164:function(t,e,n){t.exports=n.p+"img/aeab517.png"},165:function(t,e,n){t.exports=n.p+"img/a09585b.png"},166:function(t,e,n){t.exports=n.p+"img/8692f0e.png"},167:function(t,e,n){t.exports=n.p+"img/2ac69cb.png"},168:function(t,e,n){t.exports=n.p+"img/9e73464.png"},169:function(t,e,n){t.exports=n.p+"img/d730c7a.png"},170:function(t,e,n){t.exports=n.p+"img/9df2e6c.png"},171:function(t,e,n){"use strict";var r=n(139);n.n(r).a},172:function(t,e,n){(t.exports=n(39)(!1)).push([t.i,".item[data-v-4b6ba3b0]{width:40px;height:40px;background-size:40px;border-radius:50%}.item[data-v-4b6ba3b0],.item .gift[data-v-4b6ba3b0]{position:absolute;top:50%}.item .gift[data-v-4b6ba3b0]{left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:45px}.item .gift img[data-v-4b6ba3b0]{width:100%}.negi[data-v-4b6ba3b0]{width:40px;height:40px;border-radius:50%;background-size:contain}.negi[data-v-4b6ba3b0],.negi .tamanegi[data-v-4b6ba3b0]{position:absolute;top:50%}.negi .tamanegi[data-v-4b6ba3b0]{left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:30px}.negi .tamanegi img[data-v-4b6ba3b0]{width:100%}.negi .naganegi[data-v-4b6ba3b0]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:45px}.negi .naganegi img[data-v-4b6ba3b0]{width:100%}",""])},173:function(t,e,n){"use strict";var r=n(140);n.n(r).a},174:function(t,e,n){(t.exports=n(39)(!1)).push([t.i,".base{width:100%;height:80px;background:#403f41;position:absolute;top:50%}",""])},175:function(t,e,n){t.exports=n.p+"img/b380af8.png"},176:function(t,e,n){t.exports=n.p+"img/8dc91f0.png"},177:function(t,e,n){"use strict";var r=n(141);n.n(r).a},178:function(t,e,n){(t.exports=n(39)(!1)).push([t.i,".v-enter-active[data-v-59d0e284],.v-leave-active[data-v-59d0e284]{-webkit-transform:translate(-50%,-50%)!important;transform:translate(-50%,-50%)!important;transition:opacity 1.5s,-webkit-transform 1.5s;transition:opacity 1.5s,transform 1.5s;transition:opacity 1.5s,transform 1.5s,-webkit-transform 1.5s}.v-enter[data-v-59d0e284],.v-leave-to[data-v-59d0e284]{-webkit-transform:translateY(-60vh) translateX(-50%)!important;transform:translateY(-60vh) translateX(-50%)!important;opacity:0}.v-enter .button[data-v-59d0e284],.v-leave-to .button[data-v-59d0e284]{opacity:0}.result[data-v-59d0e284]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:80vw;border-radius:30px;font-size:24px;text-align:center}.result .clear img[data-v-59d0e284],.result .failed img[data-v-59d0e284]{width:100%}.result .button[data-v-59d0e284]{width:160px;height:40px;line-height:40px;margin:25px auto;border:2px solid #403f41;border-radius:5px;font-weight:700;transition:opacity 1.5s ease 1.5s}.result .message[data-v-59d0e284]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:15px auto}",""])},190:function(t,e,n){"use strict";var r=n(144);n.n(r).a},191:function(t,e,n){e=t.exports=n(39)(!1);var r=n(145)(n(192));e.push([t.i,".stage-root{height:100vh;width:100vw;max-width:100vw;overflow:hidden;background-color:#e49e68;background-image:url("+r+");background-size:150px}.countdown{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:60vw;height:60vw;border:3px solid #000;border-radius:50%;line-height:60vw;font-size:35vw;text-align:center}",""])},192:function(t,e,n){t.exports=n.p+"img/02464a7.png"},199:function(t,e,n){"use strict";n.r(e);n(41);var r=n(4),o=n(197),c=(n(135),n(20),{props:{debug:{type:[Boolean,String],default:!1},name:{type:String,default:""},ox:{type:[Number,String],default:0},oy:{type:[Number,String],default:0},x:{type:[Number,String],default:0},y:{type:[Number,String],default:0},w:{type:[Number,String],default:0},h:{type:[Number,String],default:0},z:{type:[Number,String],default:0},r:{type:[Number,String],default:0},s:{type:[Number,String,Array],default:1},a:{type:[Number,String],default:1},dur:{type:[Number,String],default:0},easing:{type:String,default:"ease"},disableAnimation:{type:Boolean,default:!0}},data:function(){return{transitionendResolves:[]}},computed:{scaleXY:function(){return Array.isArray(this.s)?"".concat(this.s[0],", ").concat(this.s[1]):this.s}},methods:{clicked:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$emit.apply(this,["click"].concat(e))},waitTransitionEnd:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){e.transitionendResolves.push(t)}));case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ontransitionend:function(t){this.transitionendResolves.forEach(function(e){e(t)}),this.transitionendResolves=[],this.$emit("transitionend",t)}}}),l=(n(154),n(14)),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"elem-container",class:{debug:t.debug},style:{width:t.w+"px",height:t.h+"px",opacity:t.a,transformOrigin:t.ox+"px "+t.oy+"px",transform:"translate3d("+t.x+"px, "+t.y+"px ,"+t.z+"px) scale("+t.scaleXY+") rotate("+t.r+"deg)",transition:t.disableAnimation?"none":"\n      transform "+t.dur+"ms 0s "+t.easing+",\n      transform-origin "+t.dur+"ms 0s "+t.easing+",\n      opacity "+t.dur+"ms 0s "+t.easing,willChange:"transform"},on:{click:t.clicked,transitionend:function(e){return e.stopPropagation(),t.ontransitionend(e)}}},[t._t("default"),t._v(" "),t.debug?n("div",{staticClass:"debug-origin",style:{transform:"translate("+t.ox+"px, "+t.oy+"px"}}):t._e(),t._v(" "),t.debug?n("div",{staticClass:"debug-name"},[t._v(t._s(t.name))]):t._e()],2)},[],!1,null,"f7a50e32",null).exports,f={name:"Player",components:{ECont:d},props:{x:{type:[Number,String],default:0},y:{type:[Number,String],default:0},r:{type:[Number,String],default:0},s:{type:[Number,String],default:1}},methods:{}},h=(n(156),Object(l.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("e-cont",{attrs:{x:this.x-20,y:this.y-20,w:40,h:40,r:this.r,s:this.s,ox:20,oy:20}},[e("div",{staticClass:"maru"})])},[],!1,null,null,null).exports),m={name:"Partner",components:{ECont:d},props:{x:{type:[Number,String],default:0},y:{type:[Number,String],default:0},r:{type:[Number,String],default:0},s:{type:[Number,String],default:1},mode:{type:[Number,String],default:""}}},v=(n(161),Object(l.a)(m,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("e-cont",{attrs:{x:t.x-20,y:t.y-20,w:40,h:40,r:t.r,s:t.s,ox:20,oy:20}},[r("div",{staticClass:"partner"},[0==t.mode?r("img",{staticClass:"chara",attrs:{src:n(147)}}):1==t.mode?r("img",{staticClass:"chara",attrs:{src:n(158)}}):2==t.mode?r("img",{staticClass:"chara",attrs:{src:n(159)}}):3==t.mode||4==t.mode?r("img",{staticClass:"chara",attrs:{src:n(160)}}):r("img",{staticClass:"chara",attrs:{src:n(147)}})])])},[],!1,null,null,null).exports),y={name:"Item",components:{ECont:d},props:{x:{type:[Number,String],default:0},y:{type:[Number,String],default:0},r:{type:[Number,String],default:0},s:{type:[Number,String],default:1},type:{type:[String],default:""}},data:function(){return{negi:null}},created:function(){"negi"===this.type&&(Math.random()<0?this.negi="tamanegi":this.negi="naganegi")},methods:{collide:function(t,e){this.$emit("hit".concat(e),t)}}},x=(n(171),Object(l.a)(y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("e-cont",{attrs:{x:t.x-20,y:t.y-20,w:40,h:40,r:t.r,s:t.s,ox:20,oy:20}},["negi"===t.type?r("div",{staticClass:"negi"},["tamanegi"===t.negi?r("div",{staticClass:"tamanegi"},[r("img",{attrs:{src:n(163)}})]):t._e(),t._v(" "),"naganegi"===t.negi?r("div",{staticClass:"naganegi"},[r("img",{attrs:{src:n(164)}})]):t._e()]):r("div",{staticClass:"item"},[r("div",{staticClass:"gift"},[t.type%6==0?r("img",{attrs:{src:n(165)}}):t._e(),t._v(" "),t.type%6==1?r("img",{attrs:{src:n(166)}}):t._e(),t._v(" "),t.type%6==2?r("img",{attrs:{src:n(167)}}):t._e(),t._v(" "),t.type%6==3?r("img",{attrs:{src:n(168)}}):t._e(),t._v(" "),t.type%6==4?r("img",{attrs:{src:n(169)}}):t._e(),t._v(" "),t.type%6==5?r("img",{attrs:{src:n(170)}}):t._e()])])])},[],!1,null,"4b6ba3b0",null).exports),w={name:"Baseline",components:{ECont:d},props:{x:{type:[Number,String],default:0},w:{type:[Number,String],default:0},y:{type:[Number,String],default:0},r:{type:[Number,String],default:0},s:{type:[Number,String],default:1}}},_=(n(173),Object(l.a)(w,function(){var t=this.$createElement,e=this._self._c||t;return e("e-cont",{attrs:{x:this.x,y:this.y-40,w:this.w,h:80,r:this.r,s:this.s,ox:this.w/2,oy:40}},[e("div",{staticClass:"base"})])},[],!1,null,null,null).exports),k={name:"Result",props:{score:{type:[Number,String],default:0}}},S=(n(177),Object(l.a)(k,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",[r("div",{staticClass:"result"},[23==t.score?r("div",{staticClass:"clear"},[r("img",{attrs:{src:n(175)}}),t._v(" "),r("div",{staticClass:"button",on:{click:function(e){return t.$router.push("/")}}},[t._v("もどる")])]):r("div",{staticClass:"failed"},[r("img",{attrs:{src:n(176)}}),t._v(" "),r("div",{staticClass:"message"},[t._v("\n        "+t._s(t.score)+"歳おめでとう笑"),r("br"),t._v("\n        もう一回挑戦してね！\n      ")]),t._v(" "),r("div",{staticClass:"button",on:{click:function(e){return t.$router.push("/")}}},[t._v("もどる")])])])])},[],!1,null,"59d0e284",null).exports),C=n(198),N=n(148),O=n(149),I=(n(59),n(60),n(179)),$=n.n(I),E=function(text){return text.charAt(0).toUpperCase()+text.slice(1)},j=function(){function t(){Object(N.a)(this,t),this._comps=[],this.safeMargin=.1,this._lastResult=[]}return Object(O.a)(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(e){t._comps.includes(e)||t._comps.push(e)})}},{key:"clear",value:function(){this._comps.length=0}},{key:"detect",value:function(){var t=this,e=this._comps.map(function(e){var n=e.$el;if(!n)return null;var r=n.getBoundingClientRect(),o=r.width*t.safeMargin,c=r.height*t.safeMargin;return[r.x+o,r.y+c,r.x+r.width-o,r.y+r.height-c]}).filter(function(b){return b}),n=$()(e).map(function(e){var n=Object(C.a)(e,2),r=n[0],o=n[1];return[t._comps[r],t._comps[o]]}),r=function(t,e){if(!e.length)return[];if(!t.length)return e;var n=t.map(function(t){return t[0]._uid+"/"+t[1]._uid}),r=e.map(function(t){return t[0]._uid+"/"+t[1]._uid}),o=[];return r.forEach(function(t,r){n.includes(t)||o.push(e[r])}),o}(this._lastResult,n);return this._lastResult=n,r.forEach(function(t){var e=Object(C.a)(t,2),n=e[0],r=e[1],o=E(n.$options._componentTag),c=E(r.$options._componentTag);n.collide&&n.collide(r,c,0),r.collide&&r.collide(n,o,1)}),r}}]),t}(),R=(n(61),function(t){return t===1*t}),M=n(189),P=n.n(M),T=function(){function t(e){Object(N.a)(this,t),this._target=e,this._isSkip=!1}return Object(O.a)(t,[{key:"to",value:function(t,e,n){var r=this;return new Promise(function(o){var c=Date.now(),l={};Object.keys(t).forEach(function(t){l[t]=r._target[t]});!function d(){if(r.isSkip)o(!1);else{var f=Date.now(),h=Math.min(1,(f-c)/e),m=n?n(h):h;r._apply(l,t,m),1===h?o(!0):window.requestAnimationFrame(d)}}()})}},{key:"_apply",value:function(t,e,n){var r=this;Object.keys(e).forEach(function(o){var c=t[o],l=e[o],d=R(c)&&R(l)?c+(l-c)*n:n>.5?l:c;r._target[o]=d})}},{key:"Easing",get:function(){return P.a}},{key:"isSkip",get:function(){return this._isSkip},set:function(t){this._isSkip=!!t}}]),t}(),A={components:{Player:h,Partner:v,Item:x,Baseline:_,Result:S},data:function(){return{collisionDetector:new j,countdown:3,time:0,score:0,level:"hard",throwSpeed:{easy:[2e3,1500],normal:[1e3,1e3],hard:[100,1e3],veryhard:[10,500]},vw:null,vh:null,touch_x:0,partner:{pos:{x:20,y:80,s:1},status:null,mode:0},items:[],itemList:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22"]}},computed:{playerPos:function(){return{x:this.touch_x,y:this.vh-120,s:1}}},created:function(){},mounted:function(){var t=this,e=this;this.vw=window.innerWidth,this.vh=window.innerHeight,this.touch_x=this.vw/2,this.partner.pos.x=this.vw/2,this.$route.query.level&&(this.level=this.$route.query.level),document.body.addEventListener("touchmove",function(t){var n=t.targetTouches[0];e.touch_x=n.pageX},!1),document.body.addEventListener("touchstart",function(t){var n=t.targetTouches[0];e.touch_x=n.pageX},!1);var n=setInterval(function(){t.countdown--,0==t.countdown&&(t.gameStart(),clearInterval(n))},1e3)},methods:{checkCollision:function(){var t;this.collisionDetector.clear(),(t=this.collisionDetector).add.apply(t,[this.$refs.player].concat(Object(o.a)(this.$refs.item||[]),[this.$refs.baseline])),this.collisionDetector.detect()},onItemHitPlayer:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"negi"!=e.type?this.getItem(e.type):this.negiDamege(),this.removeItem(e);case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),onItemHitBaseline:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"negi"!=e.type&&this.lostItem(e.type),this.removeItem(e);case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getItem:function(t){console.log("get! ",t),this.score++},lostItem:function(t){console.log("lost! ",t)},negiDamege:function(){console.log("neginegi~~"),this.score--},throwItemTiming:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.throwSpeed[this.level][0]+1e3*Math.random(),setTimeout(function(){if("walking"===n.partner.status){var t="";if(Math.random()>.3){var e=Math.floor(Math.random()*n.itemList.length);t=n.itemList[e],n.$data.itemList.splice(e,1),-1!=[17,9,0].indexOf(n.itemList.length)&&(n.partner.status="stop")}else t="negi";n.throwItem(t),n.throwItemTiming()}},e);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),throwItem:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Math.floor(1e5*Math.random()),r={id:n,pos:{x:this.partner.pos.x,y:this.partner.pos.y,s:1},type:e},this.$data.items.push(r),r.tw=new T(r.pos),t.next=6,r.tw.to({x:Math.random()*this.vw,y:this.vh-80},this.throwSpeed[this.level][1]);case 6:t.sent&&this.removeItem(r);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),removeItem:function(t){var e=this.$data.items.indexOf(t);-1!==e&&this.$data.items.splice(e,1)},movePartner:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.partner.mode++,this.partner.tw=new T(this.partner.pos),this.partner.status="walking";case 3:if("walking"!==this.partner.status){t.next=12;break}return t.next=6,this.partner.tw.to({x:this.vw-20},500);case 6:return t.next=8,this.partner.tw.to({x:20},1e3);case 8:return t.next=10,this.partner.tw.to({x:this.vw/2},500);case 10:t.next=3;break;case 12:this.partnerStopped();case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),partnerStopped:function(){var t=this;if(0!=this.itemList.length)setTimeout(function(){t.movePartner(),t.throwItemTiming()},2e3);else setTimeout(function(){t.gameSet()},this.throwSpeed[this.level][1]+500)},gameTick:function(){this.time++,this.checkCollision()},gameStart:function(){setInterval(this.gameTick,10);this.movePartner(),this.throwItemTiming()},gameSet:function(){this.partner.status="end",console.log("GAME SET!"),console.log(this.score+"歳おめでとう！")}}},z=(n(190),Object(l.a)(A,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stage-root"},[t.countdown>0?n("div",{staticClass:"countdown"},[t._v("\n    "+t._s(t.countdown)+"\n  ")]):t._e(),t._v(" "),n("div",{staticClass:"score"},[t._v("score: "+t._s(t.score))]),t._v(" "),n("player",{ref:"player",attrs:{x:t.playerPos.x,y:t.playerPos.y,s:t.playerPos.s}}),t._v(" "),n("partner",{ref:"partner",attrs:{x:t.partner.pos.x,y:t.partner.pos.y,s:t.partner.pos.s,mode:t.partner.mode}}),t._v(" "),t._l(t.items,function(e){return n("item",{key:"item-"+e.id,ref:"item",refInFor:!0,attrs:{x:e.pos.x,y:e.pos.y,s:e.pos.s,type:e.type},on:{hitPlayer:function(n){return t.onItemHitPlayer(e,n)},hitBaseline:function(n){return t.onItemHitBaseline(e,n)}}})}),t._v(" "),n("baseline",{ref:"baseline",attrs:{x:-100,y:t.vh-60,s:1,w:t.vw+200}}),t._v(" "),"end"==t.partner.status?n("result",{attrs:{score:t.score}}):t._e()],2)},[],!1,null,null,null));e.default=z.exports}}]);